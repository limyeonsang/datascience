## Data Warehouse(DW)
데이터 웨어하우스란 사용자의 의사 결정에 도움을 주기 위해, 시스템의 DB에 축적된 데이터를 공통의 형식으로 변환해서 관리하는 DB이다.   
쉽게 말해 사용자 의사결정에 필요한 데이터가 들어가 있는 DB이다.  

### 근데 DW없이 그냥 DB에 접근해서 분석하면 되지않냐?
시스템 DB를 통한 분석이 어려운 이유는 예를 들어 쇼핑앱이 있다면 간단히 아래와 같은 시스템이 있고 각 시스템에 맞게 데이터들이 DB에 쌓인다. 
![](https://bomwo.cc/static/7c8590c0783e0108aa333961ba730141/ace37/example.png)

1. 주문 관리 시스템 : 물품을 주문 하는 시스템 (주문 내역)
2. 재고 관리 시스템 : 현재 옷의 재고를 보고 수량을 관리하는 시스템 (현재 재고수량, 부족한 재고 수량)
3. 결제 관리 시스템 : 사용자가 쇼핑을 하고 결제를 관리 하는 시스템 (사용자 결제 목록, 결제 내역)
4. 회원 관리 시스템 : 쇼핑몰 가입하거나 탈퇴하는 관리하는 시스템 (사용자 나이,성별,주소,유저 id)

만약 6개월 동안 유저들이 어떤 품목을 얼마나 주문했는지를 알고 싶다면 회원 시스템, 주문 관리 시스템의 DB에 쿼리를 작성해서 분석을 할 수 있을 것이다.   
하지만 운영 시스템에 쿼리를 작성하게 되면 시스템에 부하가 발생해 DB를 분석하는 동안 앱을 사용하지 못하게 된다.   
시스템의 DB는 작은 규모의 데이터를 빠르게 다루기 위해 만들어진 시스템이라서 큰 규모의 데이터 조회를 했을 때에는 부하가 발생한다. 

따라서 이런 부하를 발생시키지 않고 운영 DB를 추출하여 큰 규모의 데이터 조회 및 분석을 위해 만들어 진 것이 DW이다. 
![](https://bomwo.cc/static/2eeda57fd16c202580f29dca7bf70d39/d26aa/example2.png)

### DW의 목적
- 데이터를 기반한 의사 결정
- 여러 소스의 데이터를 통합해서 분석 
- 과거 데이터 분석
- 기존 정보를 활용해 더 나은 정보를 제공

### DW의 아키텍쳐
![](https://bomwo.cc/static/ea188678e47519c7c158140455afd07b/d9199/snowflake.png)
DW의 아키텍쳐는 많은 기업들에서 위 그림과 같은 형태로 주로 구축한다. 

ETL(Extract, Transform, Load)이란 DW 구축 시 데이터를 운영 시스템에서 추출하여 가공한 후 DW에 적재하는 과정을 말한다. 일반적으로 발생하는 데이터 변환에는 필터링, 정렬, 집계, 데이터 조인, 데이터 정리, 중복 제거 및 데이터 유효성 검사 등의 다양한 작업이 포함된다.
- Extract: 하나 또는 그 이상의 데이터 원천들로부터 데이터 추출
- Transform: 추출한 데이터를 요구사항에 맞게 변경하는 작업
- Load: 변혀여 단계의 처리가 완료된 데이터를 특정 목표 시스템에 적재

Data Lake는 정형, 반정형 및 비정형 데이터를 비롯한 모든 가공되지 않은 다양한 종류의 데이터를 한 곳에 모아둔 중앙 레포지토리이다. 빅데이터를 효율적으로 분석하고 사용하고자 다양한 영역의 Raw 데이터를 한 곳에 모아서 관리하고자 하는 목적이다. 

Data Mart는 금융, 마케팅 또는 영업과 같은 특정 팀 또는 사업 단위의 요구를 충족시키는 DW이다. 규모가 더 작고, 집중적이며 사용자 커뮤니티에 가장 잘 맞는 데이터 요약을 포함할 수 있다. 


출처: https://www.snowflake.com/blog/beyond-modern-data-architecture/